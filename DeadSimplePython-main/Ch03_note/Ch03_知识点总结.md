# Chapter 03 - Python 基础知识点总结

## 目录
1. [基本输入输出](#1-基本输入输出)
2. [变量与数据类型](#2-变量与数据类型)
3. [运算符](#3-运算符)
4. [字符串操作](#4-字符串操作)
5. [控制流](#5-控制流)
6. [循环](#6-循环)
7. [函数](#7-函数)
8. [类与对象](#8-类与对象)
9. [异常处理](#9-异常处理)
10. [其他特性](#10-其他特性)

---

## 1. 基本输入输出

### 1.1 输出 - print()
```python
# 最简单的输出
print("Hello, world!")

# 输出变量
name = "Jason"
print(name)  # 输出: Jason
```

**关键点:**
- `print()` 函数用于将内容输出到控制台
- 可以输出字符串、数字、变量等

### 1.2 输入 - input()
```python
# 从用户获取输入
name = input("请输入你的名字: ")
print(f"你好, {name}!")
```

**相关文件:** `hello_input.py`

---

## 2. 变量与数据类型

### 2.1 变量赋值
```python
name = "Jason"      # 字符串
points = 4571       # 整数
points = 42         # 变量可以重新赋值
```

**关键点:**
- Python 是动态类型语言,不需要声明变量类型
- 变量名区分大小写
- 变量可以随时重新赋值

**相关文件:** `variables.py:1-6`

### 2.2 数据类型

#### 布尔值 (Boolean)
```python
spam = True
eggs = False
potatoes = None  # None 表示空值
```

#### 真值性 (Truthiness)
```python
answer = 42
if answer:  # 非零数字会被评估为 True
    print("Evaluated to True")

print(bool(answer))  # 输出: True
```

**假值列表:**
- `False`
- `None`
- 数字 `0` (包括 `0.0`)
- 空字符串 `""`
- 空容器 (如 `[]`, `{}`, `()`)

**相关文件:** `truthiness.py`

#### 高精度数字类型
```python
from decimal import Decimal
from fractions import Fraction

# Fraction - 精确的分数
third_fraction = Fraction(1, 3)  # 输出: 1/3

# Decimal - 固定精度的十进制数
third_fixed = Decimal("0.333")   # 输出: 0.333

# float - 浮点数 (可能有精度误差)
third_float = 1 / 3              # 输出: 0.3333333333333333
```

**使用场景:**
- `Fraction`: 需要精确分数运算时
- `Decimal`: 金融计算等需要精确小数的场景
- `float`: 一般数学计算

**相关文件:** `fractions_and_decimals.py`

---

## 3. 运算符

### 3.1 数学运算符
```python
print(-40)          # 负数 (一元运算符)
print(abs(-42))     # 绝对值, 结果: 42
print(40 + 2)       # 加法, 结果: 42
print(44 - 2)       # 减法, 结果: 42
print(21 * 2)       # 乘法, 结果: 42
print(680 / 16)     # 除法, 结果: 42.5
print(680 // 16)    # 整除 (向下取整), 结果: 42
print(1234 % 149)   # 取模 (余数), 结果: 42
print(7 ** 2)       # 幂运算, 结果: 49
print((9 + 5) * 3)  # 括号控制优先级, 结果: 42
```

**运算符优先级 (从高到低):**
1. 括号 `()`
2. 幂运算 `**`
3. 一元运算符 `-`、`+`
4. 乘除运算 `*`、`/`、`//`、`%`
5. 加减运算 `+`、`-`

**相关文件:** `math_operators.py`

### 3.2 增强赋值运算符
```python
foo = 10
foo += 10   # foo = foo + 10,  结果: 20
foo -= 5    # foo = foo - 5,   结果: 15
foo *= 16   # foo = foo * 16,  结果: 240
foo //= 5   # foo = foo // 5,  结果: 48
foo /= 4    # foo = foo / 4,   结果: 12.0
foo **= 2   # foo = foo ** 2,  结果: 144.0
foo %= 51   # foo = foo % 51,  结果: 42.0
```

**其他增强赋值运算符:**
- `&=`, `|=`, `^=` (位运算)
- `<<=`, `>>=` (位移)

**相关文件:** `augmented_assignment_operators.py`

### 3.3 比较运算符
```python
score = 98
high_score = 100

print(score == high_score)  # 等于, 结果: False
print(score != high_score)  # 不等于, 结果: True
print(score < high_score)   # 小于, 结果: True
print(score <= high_score)  # 小于等于, 结果: True
print(score > high_score)   # 大于, 结果: False
print(score >= high_score)  # 大于等于, 结果: False
```

**相关文件:** `comparison_operators.py`

### 3.4 逻辑运算符
```python
spam = True
eggs = False

# AND - 两个都为 True 才返回 True
if spam and eggs:  # False
    print("I do not like green eggs and spam.")

# OR - 任意一个为 True 就返回 True
if spam or eggs:  # True
    print("Here's your meal.")

# NOT - 取反
if (not eggs) and spam:  # True
    print("But I DON'T LIKE SPAM!")
```

**短路求值:**
- `and`: 如果第一个为 False,不会计算第二个
- `or`: 如果第一个为 True,不会计算第二个

**相关文件:** `logical_operators.py`

### 3.5 身份运算符 (Identity Operators)
```python
spam = True
eggs = False
potatoes = None

# is - 检查是否是同一个对象
if spam is True:  # True (但不推荐)
    print("We have spam.")

# 推荐的写法
if spam:  # 隐式检查真值
    print("Spam, spam, spam...")

# is not - 检查是否不是同一个对象
if eggs is not True:  # True
    print("No eggs.")

# 推荐用法: 检查 None
if potatoes is None:  # 推荐
    print("Yes, we have no potatoes.")

if potatoes is not None:  # 推荐
    print("We have potatoes.")
```

**最佳实践:**
- ✅ 使用 `is None` 和 `is not None` 检查 None
- ❌ 避免使用 `is True` 或 `is False`
- ✅ 直接使用 `if var:` 或 `if not var:`

**相关文件:** `boolean_identity_operators.py`

### 3.6 位运算符
```python
print(9 & 8)    # 按位与 (AND), 结果: 8
print(9 | 8)    # 按位或 (OR), 结果: 9
print(9 ^ 8)    # 按位异或 (XOR), 结果: 1
print(~8)       # 按位取反, 结果: -9
print(1 << 3)   # 左移, 结果: 8
print(8 >> 3)   # 右移, 结果: 1
```

**使用场景:**
- 标志位操作
- 权限管理
- 底层性能优化

**相关文件:** `bitwise_operations.py`

---

## 4. 字符串操作

### 4.1 字符串字面量
```python
# 四种引号方式都可以
danger = "Cuidado, llamas!"
danger = 'Cuidado, llamas!'
danger = '''Cuidado, llamas!'''
danger = """Cuidado, llamas!"""
```

**相关文件:** `string_literals.py`

### 4.2 多行字符串
```python
# 使用三引号创建多行字符串
message = """This is a
multi-line
string."""
```

**相关文件:** `multiline_string.py`

### 4.3 转义字符
```python
# 在字符串中使用引号
quote = "He said, \"Hello!\""
quote = 'It\'s a beautiful day.'
```

**相关文件:** `escaping_quotes.py`

### 4.4 原始字符串 (Raw String)
```python
# r 前缀表示原始字符串,不转义
path = r"C:\Users\name\Documents"
```

**使用场景:**
- 文件路径
- 正则表达式

**相关文件:** `raw_string.py`, `raw_or_not.py`

### 4.5 字符串拼接
```python
# 使用 + 运算符
greeting = "Hello, " + name + "!"

# 使用 f-string (推荐)
greeting = f"Hello, {name}!"
```

**相关文件:** `concat_strings.py`

### 4.6 字符串格式化

#### Template String (旧方法)
```python
from string import Template

s = Template("$greeting, $user!")
print(s.substitute(greeting="Hi", user="Jason"))

s = Template("A ${thing}ify subscription costs $$$price/mo.")
print(s.substitute(thing="Code", price=19.95))
```

**相关文件:** `template_string.py`

#### format() 方法
```python
name = "Alice"
age = 25
print("姓名:{},年龄:{}".format(name, age))

# 带格式说明符
a = 42
b = 64
print("{0:d}={0:#x} | {1:d}={1:#x}".format(a, b))
```

#### f-string (推荐)
```python
a = 42
b = 64
print(f"{a:#x} and {b:#o}")  # 十六进制和八进制
print(f"{a:d}={a:#x} | {b:d}={b:#x}")  # 多种格式
```

**格式说明符:**
- `:d` - 十进制整数
- `:#x` - 十六进制 (带 0x 前缀)
- `:#o` - 八进制 (带 0o 前缀)

**相关文件:** `format_to_fstring.py`

### 4.7 字面量花括号
```python
# 在 f-string 中使用双花括号表示字面量
text = f"Use {{double braces}} for literal braces"
```

**相关文件:** `literal_curly_braces.py`

---

## 5. 控制流

### 5.1 if 语句
```python
name = "Jason"
if name != "":
    message = "Hello, " + name + "!"
    print(message)
print("I am a computer.")
```

**相关文件:** `hello_conditional.py`

### 5.2 if-elif-else 语句
```python
def tell_joke(joke_type):
    if joke_type == "funny":
        print("How can you tell an elephant is in your fridge?")
        print("There are footprints in the butter!")
    elif joke_type == "lethal":
        print("Wenn ist das Nunstück git und Slotermeyer?")
    else:
        print("Why did the chicken cross the road?")
        print("To get to the other side!")
```

**相关文件:** `joke_function.py`

### 5.3 嵌套条件
```python
# 条件可以嵌套
if weather == "sunny":
    if temperature > 25:
        print("Hot day!")
    else:
        print("Nice day!")
```

**相关文件:** `weather_nested_conditional.py`

### 5.4 模式匹配 (match-case, Python 3.10+)
```python
class Special:
    TODAY = 'lasagna'

lunch_order = input("What would you like for lunch? ")

match lunch_order:
    case Special.TODAY:
        print("Today's special is awesome!")
    case 'pizza':
        print("Pizza time!")
    case 'sandwich':
        print("Here's your sandwich")
    case 'salad' | 'soup':  # 多个选项
        print("Eating healthy, eh?")
    case ice_cream if 'ice cream' in ice_cream:  # 守卫条件
        flavor = ice_cream.replace('ice cream', '').strip()
        print(f"Here's your {flavor} ice cream.")
    case order:  # 默认情况 (捕获所有)
        print(f"Enjoy your {order}.")
```

**特性:**
- `|` - OR 模式,匹配多个值
- `if` - 守卫条件,额外的条件检查
- 变量绑定 - `case order:` 会捕获值并绑定到变量
- `_` - 通配符 (可选的默认情况)

**相关文件:** `pattern_match.py`

### 5.5 pass 语句
```python
# pass 是占位符,什么都不做
if raining:
    pass  # TODO: 稍后实现
```

**相关文件:** `raining_pass.py`

---

## 6. 循环

### 6.1 for 循环
```python
# 遍历 range
for i in range(1, 11):  # 1 到 10 (不包括 11)
    print(i)
```

**range() 函数:**
- `range(stop)` - 从 0 到 stop-1
- `range(start, stop)` - 从 start 到 stop-1
- `range(start, stop, step)` - 带步长

**相关文件:** `for_loop.py`

### 6.2 while 循环
```python
n = 0
while n < 10:
    n += 1
    print(n)
```

**相关文件:** `while_loop.py`

### 6.3 循环控制

#### break - 立即退出循环
```python
while True:
    command = input("Enter command: ")
    if command == "exit":
        break  # 退出循环
    print("Command unknown.")
```

#### continue - 跳到下一次迭代
```python
while True:
    command = input("Enter command: ")
    if command == "sing":
        print("La la LAAA")
        continue  # 跳过下面的代码,继续下一次循环

    if command == "exit":
        break

    print("Command unknown.")
```

**相关文件:** `loop_control.py`

---

## 7. 函数

### 7.1 定义函数
```python
def tell_joke(joke_type):
    """讲一个笑话"""
    if joke_type == "funny":
        print("How can you tell an elephant is in your fridge?")
        print("There are footprints in the butter!")
    else:
        print("Why did the chicken cross the road?")
        print("To get to the other side!")

# 调用函数
tell_joke("funny")
```

**函数定义要素:**
- `def` 关键字
- 函数名
- 参数列表 (可选)
- 冒号 `:`
- 缩进的函数体

**相关文件:** `joke_function.py`

### 7.2 文档字符串 (Docstring)
```python
def make_tea():
    """Will produce a concoction almost,
    but not entirely unlike tea."""
    pass

# 访问文档字符串
print(make_tea.__doc__)
help(make_tea)
```

**最佳实践:**
- 使用三引号 `"""` 定义
- 放在函数/类/模块的第一行
- 描述函数的功能、参数、返回值

**相关文件:** `docstrings.py`

---

## 8. 类与对象

### 8.1 定义类
```python
class Joke:
    def __init__(self, joke_type):
        """构造函数,初始化对象"""
        if joke_type == "funny":
            self.question = "How can you tell an elephant is in your fridge?"
            self.answer = "There are footprints in the butter!"
        else:
            self.question = "Why did the chicken cross the road?"
            self.answer = "To get to the other side!"

    def tell(self):
        """实例方法"""
        print(self.question)
        print(self.answer)

# 创建对象
lethal_joke = Joke("lethal")
lethal_joke.tell()
```

**类的关键概念:**
- `class` 关键字定义类
- `__init__()` - 构造函数
- `self` - 指向实例本身
- 实例变量 - `self.variable`
- 实例方法 - `def method(self):`

**相关文件:** `joke_class.py`

---

## 9. 异常处理

### 9.1 try-except 语句
```python
num_from_user = input("Enter a number: ")

try:
    num = int(num_from_user)  # 可能引发 ValueError
except ValueError:
    print("You didn't enter a valid number.")
    num = 0

print(f"Your number squared is {num**2}")
```

**异常处理结构:**
- `try:` - 可能引发异常的代码
- `except ExceptionType:` - 捕获特定异常
- `except:` - 捕获所有异常 (不推荐)
- `else:` - 没有异常时执行 (可选)
- `finally:` - 无论如何都执行 (可选)

**相关文件:** `try_except.py`

---

## 10. 其他特性

### 10.1 注释
```python
# 这是单行注释

print("Hello, world!")  # 这是行内注释

# 多行注释
# 第一行
# 第二行
# 第三行
```

**注释最佳实践:**
- 解释"为什么"而不是"是什么"
- 保持注释简洁明了
- 及时更新注释

**相关文件:** `comments.py`

### 10.2 海象运算符 (Walrus Operator, Python 3.8+)
```python
# := 赋值表达式
if (eggs := 7 + 5) == 12:
    print("We have one dozen eggs")

print(eggs)  # 12, 变量在 if 外部仍然可用
```

**使用场景:**
- 在条件表达式中同时赋值和比较
- 减少重复计算

**相关文件:** `walrus.py`

### 10.3 数学常量
```python
import math

print(math.pi)   # 圆周率
print(math.e)    # 自然常数
print(math.inf)  # 无穷大
```

**相关文件:** `math_constants.py`

### 10.4 元组 (Tuple)
```python
# 元组是不可变的序列
knight = ("Lancelot", "the Brave")
print(knight[0])  # "Lancelot"
```

**相关文件:** `knight_tuple.py`

### 10.5 列表 (List)
```python
# 列表是可变的序列
cheeses = ["Cheddar", "Gouda", "Swiss"]
print(cheeses[0])  # "Cheddar"
```

**相关文件:** `cheese_list.py`, `cheese_shop.py`

---

## 学习建议

1. **动手实践**: 每个知识点都运行示例代码,观察输出
2. **修改代码**: 尝试修改参数和逻辑,理解工作原理
3. **编写练习**: 结合多个知识点,编写小项目
4. **阅读文档**: 使用 `help()` 函数查看更多信息
5. **调试技巧**: 使用 `print()` 输出中间结果

---

## 参考文件索引

| 主题 | 文件名 |
|------|--------|
| 基本输出 | `hello_world.py`, `hello_statements.py` |
| 变量 | `variables.py` |
| 数学运算 | `math_operators.py`, `math_constants.py` |
| 增强赋值 | `augmented_assignment_operators.py` |
| 比较运算 | `comparison_operators.py` |
| 逻辑运算 | `logical_operators.py` |
| 身份运算 | `boolean_identity_operators.py` |
| 位运算 | `bitwise_operations.py` |
| 字符串 | `string_literals.py`, `template_string.py`, `format_to_fstring.py` |
| 条件语句 | `hello_conditional.py`, `weather_nested_conditional.py` |
| 模式匹配 | `pattern_match.py` |
| 循环 | `for_loop.py`, `while_loop.py`, `loop_control.py` |
| 函数 | `joke_function.py` |
| 类 | `joke_class.py` |
| 异常 | `try_except.py` |
| 注释 | `comments.py`, `docstrings.py` |
| 高级特性 | `walrus.py`, `truthiness.py`, `fractions_and_decimals.py` |

---

**制作时间:** 2025-11-25
**基于:** DeadSimplePython Chapter 03 示例代码