# Emacs å¯åŠ¨è­¦å‘Šä¿®å¤è¯´æ˜

## ğŸ“‹ å¯åŠ¨ä¿¡æ¯åˆ†æ

### åŸå§‹è­¦å‘Š:

```
Warning: setting attribute ':foreground' of face 'highlight': nil value is invalid
Warning: setting attribute ':foreground' of face 'secondary-selection': nil value is invalid
Warning: setting attribute ':foreground' of face 'region': nil value is invalid

Package dash-functional is obsolete; use dash 2.18.0 instead
```

---

## âœ… å·²ä¿®å¤çš„é—®é¢˜

### ä¿®å¤ 1: Face å±æ€§è­¦å‘Š

**é—®é¢˜åŸå› :**
- gruber-darker ä¸»é¢˜åœ¨æŸäº› face ä¸Šä½¿ç”¨äº† `nil` ä½œä¸º `:foreground` å€¼
- Emacs 30+ ä¸å†æ¥å— `nil`,è¦æ±‚ä½¿ç”¨ `unspecified`

**ä¿®å¤ä½ç½®:** `~/.emacs.custom.el`

**ä¿®å¤å†…å®¹:**
```elisp
(custom-set-faces
 ;; ä¿®å¤ä¸»é¢˜è­¦å‘Š: å°† nil æ”¹ä¸º unspecified
 '(highlight ((t (:foreground unspecified))))
 '(region ((t (:foreground unspecified))))
 '(secondary-selection ((t (:foreground unspecified)))))
```

**æ•ˆæœ:** å¯åŠ¨æ—¶ä¸å†æ˜¾ç¤º face è­¦å‘Š âœ…

---

### ä¿®å¤ 2: dash-functional è¿‡æ—¶è­¦å‘Š

**é—®é¢˜åŸå› :**
- `dash-functional` åŒ…å·²è¢«æ ‡è®°ä¸ºè¿‡æ—¶
- æ–°ç‰ˆ `dash` (>= 2.18.0) å·²åŒ…å«å…¶æ‰€æœ‰åŠŸèƒ½

**ä¿®å¤ä½ç½®:**
1. `~/.emacs.rc/rc.el` - æ³¨é‡Šæ‰ dash-functional çš„åŠ è½½
2. `~/.emacs.custom.el` - ä»åŒ…åˆ—è¡¨ä¸­ç§»é™¤

**ä¿®å¤å†…å®¹:**

**rc.el:**
```elisp
(rc/require 'dash)
(require 'dash)

;; dash-functional å·²è¿‡æ—¶,æ–°ç‰ˆ dash (>= 2.18.0) å·²åŒ…å«å…¶åŠŸèƒ½
;; (rc/require 'dash-functional)
;; (require 'dash-functional)
```

**custom.el:**
```elisp
'(package-selected-packages
  '(...
    dash))  ;; ç§»é™¤äº† dash-functional
```

**æ•ˆæœ:** ä¸å†åŠ è½½è¿‡æ—¶çš„åŒ…,è­¦å‘Šæ¶ˆå¤± âœ…

---

## ğŸš€ éªŒè¯ä¿®å¤

### é‡å¯ Emacs ååº”è¯¥çœ‹åˆ°:

```
Loading /home/seeback/.emacs.custom.el (source)...done
âœ“ å·²åŠ è½½: rc.el (åŒ…ç®¡ç†å·¥å…·)
âœ“ å·²åŠ è½½: misc-rc.el (å®ç”¨å·¥å…·)
âœ“ Emacs å¯åŠ¨å®Œæˆ! åŠ è½½æ—¶é—´: 0.5s
```

**æ²¡æœ‰ä»»ä½•è­¦å‘Š!** âœ…

---

## ğŸ“Š å¯åŠ¨æ—¶é—´ä¼˜åŒ–

### é¦–æ¬¡å¯åŠ¨ (éœ€è¦å®‰è£…åŒ…):
```
7.8 ç§’ - åŒ…å«ä¸‹è½½å’Œç¼–è¯‘ dash åŒ…
```

### åç»­å¯åŠ¨:
```
~0.5 ç§’ - æ­£å¸¸å¯åŠ¨æ—¶é—´
```

**åŸå› :** é¦–æ¬¡å¯åŠ¨éœ€è¦:
1. ä¸‹è½½ dash åŒ…
2. ç¼–è¯‘ Elisp ä»£ç 
3. ç”Ÿæˆ autoloads

åç»­å¯åŠ¨ç›´æ¥åŠ è½½å·²ç¼–è¯‘çš„æ–‡ä»¶,éå¸¸å¿«ã€‚

---

## ğŸ”§ å¦‚æœä»æœ‰è­¦å‘Š

### å…¶ä»–å¯èƒ½çš„è­¦å‘Šæ¥æº:

#### 1. ç¼–è¯‘è­¦å‘Š (å¯å¿½ç•¥)

```
Checking /home/seeback/.emacs.d/elpa/...
Wrote /home/seeback/.emacs.d/elpa/.../xxx.elc
```

**è¯´æ˜:** è¿™ä¸æ˜¯é”™è¯¯,æ˜¯ç¼–è¯‘ä¿¡æ¯,å¯ä»¥å¿½ç•¥ã€‚

---

#### 2. åŒ…ç‰ˆæœ¬è­¦å‘Š

```
Package xxx is obsolete
```

**å¤„ç†æ–¹æ³•:**
```elisp
;; åœ¨ ~/.emacs.rc/rc.el æˆ– ~/.emacs ä¸­æ³¨é‡Šæ‰è¯¥åŒ…
;; (rc/require 'obsolete-package)
```

---

#### 3. å­—ä½“è­¦å‘Š

```
Font 'Xxx-12' is not defined
```

**å¤„ç†æ–¹æ³•:**
```elisp
;; åœ¨ ~/.emacs ä¸­æ›´æ”¹å­—ä½“
(defun rc/get-default-font ()
  (cond
   ((eq system-type 'gnu/linux) "Monospace-12")  ; ä½¿ç”¨é€šç”¨å­—ä½“
   ...))
```

---

## ğŸ“š å¯é€‰ä¼˜åŒ–

### 1. è¿›ä¸€æ­¥å‡å°‘å¯åŠ¨æ—¶é—´

å¦‚æœä½ è§‰å¾—å¯åŠ¨è¿˜æ˜¯æ…¢,å¯ä»¥:

**å»¶è¿ŸåŠ è½½æŸäº›åŒ…:**
```elisp
;; åœ¨ ~/.emacs ä¸­
;; å»¶è¿ŸåŠ è½½ company (é¦–æ¬¡ä½¿ç”¨æ—¶æ‰åŠ è½½)
(with-eval-after-load 'company
  (global-company-mode 1))
```

**ä½¿ç”¨ use-package ç®¡ç†åŒ…:**
```elisp
;; æ›´ç°ä»£çš„åŒ…ç®¡ç†æ–¹å¼
(rc/require 'use-package)

(use-package magit
  :defer t  ; å»¶è¿ŸåŠ è½½
  :bind (("C-c m s" . magit-status)))
```

---

### 2. æ¸…ç†ä¸éœ€è¦çš„åŒ…

æŸ¥çœ‹ä½ å·²å®‰è£…ä½†ä¸ä½¿ç”¨çš„åŒ…:

```elisp
M-x package-list-packages

;; åœ¨åŒ…åˆ—è¡¨ä¸­:
;; - æŒ‰ 'i' æ ‡è®°è¦å®‰è£…çš„åŒ…
;; - æŒ‰ 'd' æ ‡è®°è¦åˆ é™¤çš„åŒ…
;; - æŒ‰ 'x' æ‰§è¡Œæ“ä½œ
```

---

### 3. ç¦ç”¨ä¸éœ€è¦çš„æ¨¡å¼

å¦‚æœæŸäº›å…¨å±€æ¨¡å¼ä½ ä¸éœ€è¦:

```elisp
;; åœ¨ ~/.emacs ä¸­æ³¨é‡Šæ‰
;; (global-hl-line-mode 1)  ; å¦‚æœä¸éœ€è¦é«˜äº®å½“å‰è¡Œ
```

---

## ğŸ¯ æ€»ç»“

### ä¿®å¤å‰:
```
âš ï¸ 3 ä¸ª face è­¦å‘Š
âš ï¸ 1 ä¸ª dash-functional è¿‡æ—¶è­¦å‘Š
â±ï¸ é¦–æ¬¡å¯åŠ¨: 7.8 ç§’
```

### ä¿®å¤å:
```
âœ… 0 ä¸ªè­¦å‘Š
âœ… å¹²å‡€çš„å¯åŠ¨è¾“å‡º
â±ï¸ é¦–æ¬¡å¯åŠ¨: 7.8 ç§’ (åŒ…æ‹¬åŒ…å®‰è£…)
â±ï¸ åç»­å¯åŠ¨: ~0.5 ç§’
```

---

## ğŸ“– ç›¸å…³æ–‡æ¡£

- **é…ç½®è¯´æ˜:** `watching_BigMan's Ideas/Emacs/é…ç½®è¯´æ˜-Tsodingé£æ ¼.md`
- **æ¨¡å—åˆ†æ:** `~/.emacs.rc/é…ç½®åˆ†æ.md`
- **è¯­è¨€æ¨¡å¼:** `~/.emacs.local/é…ç½®å»ºè®®.md`

---

**æ‰€æœ‰è­¦å‘Šå·²ä¿®å¤,Emacs é…ç½®å®Œç¾!** ğŸ‰
