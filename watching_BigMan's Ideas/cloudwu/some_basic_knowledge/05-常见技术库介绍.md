# å¸¸è§æŠ€æœ¯åº“ä»‹ç»:OpenCV, SDL2, GLFW ç­‰

## ğŸ“š ä¸ºä»€ä¹ˆæœ‰è¿™ä¹ˆå¤š"Open"å¼€å¤´çš„åº“?

å¾ˆå¤šåº“åä»¥"Open"å¼€å¤´,è¡¨ç¤º**å¼€æº**(Open Source)ã€‚ä½†å®ƒä»¬ç”¨é€”å®Œå…¨ä¸åŒ!

| åº“å | å…¨ç§° | ç”¨é€” | æ¸¸æˆå¼€å‘å¿…éœ€? |
|------|------|------|--------------|
| **OpenGL** | Open Graphics Library | 3Då›¾å½¢æ¸²æŸ“ | âœ… æ˜¯ |
| **OpenCV** | Open Computer Vision | è®¡ç®—æœºè§†è§‰ | âŒ å¦ |
| **OpenAL** | Open Audio Library | 3DéŸ³é¢‘ | âš ï¸ å¯é€‰ |
| **OpenCL** | Open Computing Language | GPUé€šç”¨è®¡ç®— | âŒ å¦ |

---

## ğŸ‘ï¸ OpenCV - è®¡ç®—æœºè§†è§‰åº“

### ç®€ä»‹

**OpenCV**(Open Source Computer Vision Library)æ˜¯**å›¾åƒå¤„ç†å’Œè®¡ç®—æœºè§†è§‰**åº“ã€‚

### âš ï¸ é‡è¦æé†’

**OpenCV ä¸æ˜¯æ¸¸æˆå¼€å‘çš„æ ¸å¿ƒæŠ€æœ¯!**

```
OpenCV â‰  OpenGL

OpenGL: ç”»ç”»é¢(æ¸²æŸ“)
OpenCV: è¯†åˆ«ç”»é¢(åˆ†æ)
```

### OpenCV çš„å®é™…ç”¨é€”

| åº”ç”¨ | ç¤ºä¾‹ |
|------|------|
| **äººè„¸è¯†åˆ«** | ç›¸æœºAppè§£é” |
| **å›¾åƒæ»¤é•œ** | ç¾é¢œã€ç‰¹æ•ˆ |
| **ç‰©ä½“æ£€æµ‹** | è‡ªåŠ¨é©¾é©¶è¯†åˆ«è¡Œäºº |
| **ARåº”ç”¨** | Snapchatæ»¤é•œ |
| **OCR** | æ‰«ææ–‡å­—è¯†åˆ« |

### ä»£ç ç¤ºä¾‹

```python
import cv2

# è¯»å–å›¾ç‰‡
img = cv2.imread("photo.jpg")

# è½¬ç°åº¦
gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)

# äººè„¸æ£€æµ‹
face_cascade = cv2.CascadeClassifier("haarcascade_frontalface_default.xml")
faces = face_cascade.detectMultiScale(gray, 1.1, 4)

# ç”»æ¡†
for (x, y, w, h) in faces:
    cv2.rectangle(img, (x, y), (x+w, y+h), (255, 0, 0), 2)

cv2.imshow("Faces", img)
```

### æ¸¸æˆä¸­çš„åº”ç”¨(ç½•è§)

| ç”¨é€” | ç¤ºä¾‹ |
|------|------|
| **ARæ¸¸æˆ** | Pokemon GOè¯†åˆ«åœ°æ ‡ |
| **ä½“æ„Ÿæ¸¸æˆ** | Kinectè¯†åˆ«åŠ¨ä½œ |
| **ç›´æ’­æ»¤é•œ** | å®æ—¶äººè„¸ç‰¹æ•ˆ |

**ç»“è®º**: 99%çš„æ¸¸æˆå¼€å‘ä¸éœ€è¦OpenCV!

---

## ğŸ® SDL2 - è·¨å¹³å°å¤šåª’ä½“åº“

### ç®€ä»‹

**SDL**(Simple DirectMedia Layer)æ˜¯**è·¨å¹³å°çš„çª—å£/è¾“å…¥/éŸ³é¢‘åº“**ã€‚

### æ ¸å¿ƒåŠŸèƒ½

```
SDL2 åŒ…å«:
â”œâ”€ çª—å£ç®¡ç† (Window)
â”œâ”€ è¾“å…¥å¤„ç† (Keyboard/Mouse/Gamepad)
â”œâ”€ 2Dæ¸²æŸ“ (Software Renderer)
â”œâ”€ éŸ³é¢‘æ’­æ”¾ (Audio)
â”œâ”€ çº¿ç¨‹æ”¯æŒ (Threading)
â””â”€ å®šæ—¶å™¨ (Timer)
```

### ä»£ç ç¤ºä¾‹

```c
#include <SDL2/SDL.h>

int main() {
    // åˆå§‹åŒ–SDL
    SDL_Init(SDL_INIT_VIDEO);

    // åˆ›å»ºçª—å£
    SDL_Window *window = SDL_CreateWindow(
        "My Game",
        SDL_WINDOWPOS_CENTERED,
        SDL_WINDOWPOS_CENTERED,
        800, 600,
        SDL_WINDOW_SHOWN
    );

    // äº‹ä»¶å¾ªç¯
    SDL_Event event;
    bool running = true;
    while (running) {
        while (SDL_PollEvent(&event)) {
            if (event.type == SDL_QUIT) {
                running = false;
            }
            if (event.type == SDL_KEYDOWN) {
                printf("Key pressed: %d\n", event.key.keysym.sym);
            }
        }
        // æ¸²æŸ“...
    }

    SDL_DestroyWindow(window);
    SDL_Quit();
    return 0;
}
```

### SDL2 vs OpenGL

| åŠŸèƒ½ | SDL2 | OpenGL |
|------|------|--------|
| **çª—å£** | âœ… æä¾› | âŒ éœ€è¦GLFW/SDL |
| **è¾“å…¥** | âœ… æä¾› | âŒ éœ€è¦GLFW/SDL |
| **2Dæ¸²æŸ“** | âœ… ç®€å•æ¸²æŸ“ | âš ï¸ éœ€è¦è‡ªå·±å®ç° |
| **3Dæ¸²æŸ“** | âŒ ä¸æ”¯æŒ | âœ… æ ¸å¿ƒåŠŸèƒ½ |
| **éŸ³é¢‘** | âœ… æä¾› | âŒ éœ€è¦OpenAL |

**å¸¸è§ç»„åˆ**: SDL2(çª—å£/è¾“å…¥) + OpenGL(æ¸²æŸ“)

```c
// ç”¨SDLåˆ›å»ºOpenGLçª—å£
SDL_Window *window = SDL_CreateWindow(
    "OpenGL Game",
    SDL_WINDOWPOS_CENTERED,
    SDL_WINDOWPOS_CENTERED,
    800, 600,
    SDL_WINDOW_OPENGL  // â† OpenGLæ¨¡å¼
);

SDL_GLContext gl_context = SDL_GL_CreateContext(window);

// ç°åœ¨å¯ä»¥è°ƒç”¨OpenGLå‡½æ•°
glClear(GL_COLOR_BUFFER_BIT);
// ...
```

### è‘—åä½¿ç”¨æ¡ˆä¾‹

- **Valveæ¸¸æˆ**(Half-Life, Portal)
- **ç‹¬ç«‹æ¸¸æˆ**(å¤§é‡2Dæ¸¸æˆ)
- **æ¨¡æ‹Ÿå™¨**(RetroArch, MAME)

---

## ğŸªŸ GLFW - OpenGL çª—å£åº“

### ç®€ä»‹

**GLFW**(Graphics Library Framework)æ˜¯ä¸“ä¸ºOpenGLè®¾è®¡çš„**è½»é‡çº§çª—å£åº“**ã€‚

### å¯¹æ¯” SDL2

| ç‰¹æ€§ | GLFW | SDL2 |
|------|------|------|
| **çª—å£** | âœ… | âœ… |
| **è¾“å…¥** | âœ… | âœ… |
| **éŸ³é¢‘** | âŒ | âœ… |
| **2Dæ¸²æŸ“** | âŒ | âœ… |
| **å¤§å°** | å° | å¤§ |
| **å®šä½** | ä»…OpenGL | é€šç”¨å¤šåª’ä½“ |

### ä»£ç ç¤ºä¾‹

```c
#include <GLFW/glfw3.h>

int main() {
    // åˆå§‹åŒ–GLFW
    glfwInit();

    // åˆ›å»ºçª—å£
    GLFWwindow *window = glfwCreateWindow(800, 600, "OpenGL", NULL, NULL);
    glfwMakeContextCurrent(window);

    // ä¸»å¾ªç¯
    while (!glfwWindowShouldClose(window)) {
        // OpenGLæ¸²æŸ“
        glClear(GL_COLOR_BUFFER_BIT);
        // ...

        glfwSwapBuffers(window);
        glfwPollEvents();
    }

    glfwTerminate();
    return 0;
}
```

### ä½•æ—¶ä½¿ç”¨ GLFW?

âœ… **çº¯OpenGLé¡¹ç›®**
âœ… **ä¸éœ€è¦éŸ³é¢‘**
âœ… **è¿½æ±‚æœ€å°ä¾èµ–**

âŒ **éœ€è¦éŸ³é¢‘** â†’ ç”¨SDL2
âŒ **éœ€è¦2Dæ¸²æŸ“** â†’ ç”¨SDL2

---

## ğŸµ OpenAL - 3D éŸ³é¢‘åº“

### ç®€ä»‹

**OpenAL**(Open Audio Library)æ˜¯**3Dç©ºé—´éŸ³é¢‘**åº“ã€‚

### æ ¸å¿ƒåŠŸèƒ½

```
3DéŸ³é¢‘:
  ç©å®¶ä½ç½® (Listener)
       â†“
  å£°æºä½ç½® (Source)
       â†“
  è®¡ç®—å·¦å³è€³éŸ³é‡å·®
       â†“
  æ¨¡æ‹Ÿç©ºé—´æ„Ÿ
```

### ä»£ç ç¤ºä¾‹

```c
#include <AL/al.h>
#include <AL/alc.h>

// åˆå§‹åŒ–
ALCdevice *device = alcOpenDevice(NULL);
ALCcontext *context = alcCreateContext(device, NULL);
alcMakeContextCurrent(context);

// è®¾ç½®å¬è€…ä½ç½®(ç©å®¶)
alListener3f(AL_POSITION, 0.0f, 0.0f, 0.0f);

// åˆ›å»ºå£°æº(æ€ªç‰©)
ALuint source;
alGenSources(1, &source);
alSource3f(source, AL_POSITION, 5.0f, 0.0f, 0.0f);  // åœ¨å³è¾¹5ç±³

// æ’­æ”¾å£°éŸ³
alSourcePlay(source);
// å¬èµ·æ¥åƒä»å³è¾¹ä¼ æ¥!
```

### OpenAL vs SDL_mixer

| ç‰¹æ€§ | OpenAL | SDL_mixer |
|------|--------|-----------|
| **3Dç©ºé—´éŸ³æ•ˆ** | âœ… | âŒ |
| **ç®€å•æ’­æ”¾** | âš ï¸ å¤æ‚ | âœ… |
| **å­¦ä¹ æ›²çº¿** | é™¡ | å¹³ç¼“ |

**å»ºè®®**:
- 2Dæ¸¸æˆ â†’ SDL_mixer
- 3Dæ¸¸æˆ â†’ OpenAL æˆ– FMOD

---

## ğŸ¨ Dear ImGui - å³æ—¶æ¨¡å¼ GUI

### ç®€ä»‹

**Dear ImGui** æ˜¯**è°ƒè¯•UIåº“**,ç”¨äºæ¸¸æˆå¼€å‘å·¥å…·ã€‚

### æ ¸å¿ƒæ¦‚å¿µ:å³æ—¶æ¨¡å¼

```c
// ä¼ ç»ŸGUI(ä¿ç•™æ¨¡å¼)
Button *btn = create_button("Click");
btn->on_click = callback;

// ImGui(å³æ—¶æ¨¡å¼)
if (ImGui::Button("Click")) {
    // ç‚¹å‡»æ—¶æ‰§è¡Œ
}
```

### ä»£ç ç¤ºä¾‹

```cpp
#include "imgui.h"

void render_debug_ui() {
    ImGui::Begin("Debug Panel");

    ImGui::Text("FPS: %.1f", fps);

    if (ImGui::Button("Restart Level")) {
        restart_level();
    }

    ImGui::SliderFloat("Volume", &volume, 0.0f, 1.0f);

    ImGui::End();
}
```

### ä½¿ç”¨åœºæ™¯

| åœºæ™¯ | ç”¨é€” |
|------|------|
| **è°ƒè¯•å·¥å…·** | æ˜¾ç¤ºFPSã€å†…å­˜å ç”¨ |
| **å…³å¡ç¼–è¾‘å™¨** | ä¿®æ”¹å‚æ•° |
| **èµ„æºæŸ¥çœ‹å™¨** | æµè§ˆçº¹ç†ã€æ¨¡å‹ |
| **æ¸¸æˆå†…æ§åˆ¶å°** | è¾“å…¥å‘½ä»¤ |

**âš ï¸ ä¸é€‚åˆ**: æ¸¸æˆæ­£å¼UI(ç”¨RmlUI/Qt)

### è‘—åä½¿ç”¨æ¡ˆä¾‹

- **Unreal Engine** - ç¼–è¾‘å™¨UI
- **Unity** - è°ƒè¯•æ’ä»¶
- **ç‹¬ç«‹æ¸¸æˆ** - å¼€å‘å·¥å…·

---

## ğŸŒ Emscripten - C/C++ è½¬ WebAssembly

### ç®€ä»‹

**Emscripten** æ˜¯å°†**C/C++ä»£ç ç¼–è¯‘ä¸ºWebAssembly**çš„å·¥å…·é“¾ã€‚

### å·¥ä½œæµç¨‹

```
C/C++ ä»£ç 
     â†“ Emscripten
WebAssembly(.wasm) + JavaScript(.js)
     â†“ æµè§ˆå™¨
   è¿è¡Œæ¸¸æˆ
```

### ä»£ç ç¤ºä¾‹

```c
// game.c
#include <emscripten.h>
#include <stdio.h>

void main_loop() {
    printf("Game tick\n");
    // æ¸²æŸ“...
}

int main() {
    emscripten_set_main_loop(main_loop, 60, 1);
    return 0;
}
```

```bash
# ç¼–è¯‘
emcc game.c -o game.html -s USE_SDL=2

# è¿è¡Œ
emrun game.html  # è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
```

### Soluna çš„ WebAssembly æ”¯æŒ

Soluna ä½¿ç”¨ Sokol,Sokol åŸç”Ÿæ”¯æŒ Emscripten:

```c
// Sokolè‡ªåŠ¨å¤„ç†å¹³å°å·®å¼‚
#ifdef __EMSCRIPTEN__
    // WebGL 2.0
#else
    // OpenGL/Vulkan/Metal
#endif
```

---

## ğŸ“Š æŠ€æœ¯åº“é€‰æ‹©æŒ‡å—

### æŒ‰éœ€æ±‚åˆ†ç±»

| éœ€æ±‚ | æ¨èåº“ |
|------|--------|
| **çª—å£+è¾“å…¥+éŸ³é¢‘** | SDL2 |
| **ä»…OpenGLçª—å£** | GLFW æˆ– sokol_app |
| **3DéŸ³é¢‘** | OpenAL |
| **è°ƒè¯•UI** | Dear ImGui |
| **å›¾åƒå¤„ç†** | OpenCV(éæ¸¸æˆ) |
| **Webå¯¼å‡º** | Emscripten |

### Soluna çš„æŠ€æœ¯æ ˆ

```
Soluna ä½¿ç”¨:
â”œâ”€ sokol_app (çª—å£/è¾“å…¥)
â”œâ”€ sokol_gfx (å›¾å½¢APIæŠ½è±¡)
â”œâ”€ sokol_audio (éŸ³é¢‘)
â””â”€ Lua + ltask (è„šæœ¬/å¤šçº¿ç¨‹)

Soluna ä¸ä½¿ç”¨:
âŒ SDL2 (sokolå·²åŒ…å«åŠŸèƒ½)
âŒ GLFW (sokol_appæ›¿ä»£)
âŒ OpenCV (ä¸éœ€è¦)
âŒ Dear ImGui (ç®€å•é¡¹ç›®æ— éœ€)
```

---

## ğŸ“ å­¦ä¹ ä¼˜å…ˆçº§

### æ¸¸æˆå¼€å‘å¿…å­¦

1. **OpenGL**(å›¾å½¢æ¸²æŸ“) - â­â­â­â­â­
2. **SDL2 æˆ– GLFW**(çª—å£/è¾“å…¥) - â­â­â­â­
3. **Sokol**(æŠ½è±¡å±‚,å¯é€‰) - â­â­â­â­

### è¿›é˜¶å¯é€‰

4. **OpenAL**(3DéŸ³é¢‘) - â­â­â­
5. **Dear ImGui**(è°ƒè¯•UI) - â­â­â­
6. **Emscripten**(Webå¯¼å‡º) - â­â­

### ç‰¹å®šé¢†åŸŸ

7. **OpenCV**(AR/CVæ¸¸æˆ) - â­
8. **OpenCL**(GPUè®¡ç®—) - â­

---

## ğŸ’¡ å¸¸è§è¯¯è§£

### âŒ è¯¯è§£1: OpenCVæ˜¯æ¸¸æˆå¼€å‘å¿…å­¦

**çœŸç›¸**: 99%çš„æ¸¸æˆä¸éœ€è¦OpenCVã€‚

åªæœ‰ARæ¸¸æˆ(Pokemon GO)æˆ–ä½“æ„Ÿæ¸¸æˆæ‰éœ€è¦ã€‚

### âŒ è¯¯è§£2: SDL2å’ŒOpenGLäºŒé€‰ä¸€

**çœŸç›¸**: å®ƒä»¬æ˜¯äº’è¡¥çš„!

```
SDL2: è´Ÿè´£çª—å£ã€è¾“å…¥ã€éŸ³é¢‘
OpenGL: è´Ÿè´£æ¸²æŸ“

å¸¸è§ç»„åˆ: SDL2 + OpenGL
```

### âŒ è¯¯è§£3: å¿…é¡»å­¦æ‰€æœ‰åº“

**çœŸç›¸**: æ ¹æ®é¡¹ç›®éœ€æ±‚é€‰æ‹©!

- ç®€å•2Dæ¸¸æˆ â†’ SDL2å°±å¤Ÿ
- 3Dæ¸¸æˆ â†’ SDL2 + OpenGL
- è¿½æ±‚è½»é‡ â†’ GLFW + OpenGL
- å¿«é€Ÿå¼€å‘ â†’ Sokol å…¨å®¶æ¡¶

---

## ğŸ”— å­¦ä¹ èµ„æº

### SDL2

- **Lazy Foo' Productions**: https://lazyfoo.net/tutorials/SDL/
- **å®˜æ–¹æ–‡æ¡£**: https://wiki.libsdl.org/

### GLFW

- **å®˜æ–¹æ•™ç¨‹**: https://www.glfw.org/documentation.html
- **LearnOpenGL**(ç”¨GLFW): https://learnopengl.com/

### Dear ImGui

- **GitHub**: https://github.com/ocornut/imgui
- **Demo**: https://pthom.github.io/imgui_manual_online/manual/imgui_manual.html

---

## ğŸ“ æ€»ç»“

### å„åº“å®šä½

| åº“ | æ ¸å¿ƒåŠŸèƒ½ | æ¸¸æˆä¸­çš„ä½œç”¨ |
|---|---------|------------|
| **OpenGL** | å›¾å½¢æ¸²æŸ“ | ç”»é¢æ˜¾ç¤º |
| **OpenCV** | è®¡ç®—æœºè§†è§‰ | (ç½•è§)ARè¯†åˆ« |
| **SDL2** | å¤šåª’ä½“æ¡†æ¶ | çª—å£/è¾“å…¥/éŸ³é¢‘ |
| **GLFW** | OpenGLçª—å£ | çª—å£/è¾“å…¥(è½»é‡) |
| **OpenAL** | 3DéŸ³é¢‘ | ç©ºé—´éŸ³æ•ˆ |
| **ImGui** | è°ƒè¯•UI | å¼€å‘å·¥å…· |
| **Sokol** | è½»é‡æŠ½è±¡å±‚ | ç®€åŒ–å¼€å‘ |

### è®°å¿†å£è¯€

```
OpenGL - ç”»ç”»é¢(Graphics)
OpenCV - çœ‹ç”»é¢(Computer Vision)
OpenAL - æ”¾å£°éŸ³(Audio)

SDL2 - å¤§è€Œå…¨
GLFW - å°è€Œç²¾
Sokol - æ–°è€Œç¾
```

---

**ä¸‹ä¸€æ­¥**: é˜…è¯» [æ¸¸æˆå¼€å‘å­¦ä¹ è·¯çº¿](./06-æ¸¸æˆå¼€å‘å­¦ä¹ è·¯çº¿.md) è·å–å®Œæ•´å­¦ä¹ è·¯å¾„
